<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<link rel="stylesheet" type="text/css" href="css/doc.css">
	<title>Bölüm 3 - Web Uygulama Teknolojileri</title>
</head>
<body>
	<h1>Web Uygulama Teknolojileri</h1>
	<p>Web uygulamaları, işlevselliğini uygulamak için bir dizi teknoloji kullanır. Bu bölüm, web uygulamalarını hedef alırken 
	karşılaşabileceğiniz temel teknolojilere kısa bir giriş niteliğindedir. HTTP protokolünü, sunucu ve istemci tarafında yaygın 
	olarak kullanılan teknolojileri ve verileri farklı durumlarda temsil etmek için kullanılan kodlama şemalarını inceleyeceğiz. 
	Bu teknolojiler genel olarak anlaşılması kolaydır ve etkili saldırılar yapabilmek için ilgili özelliklerini anlamak önemlidir.</p>
	
	<p>Web uygulamalarında kullanılan temel teknolojileri zaten biliyorsanız, bu bölümü gözden geçirerek yeni bir şey sunup sunmadığını 
	doğrulayabilirsiniz. Web uygulamalarının nasıl çalıştığını hala öğreniyorsanız, belirli güvenlik açıkları hakkındaki sonraki 
	bölümlere devam etmeden önce bu bölümü okumanız önerilir. Konuların birçoğuyla ilgili daha fazla okuma için David Gourley ve Brian 
	Totty'nin "HTTP: The Definitive Guide" kitabını (O'Reilly, 2002) ve Dünya Çapında Ağ Konsorsiyumu'nun www.w3.org web sitesini öneririz.</p>
	
	<h2>HTTP Protokolü</h2>
	<p>Hypertext Transfer Protocol (HTTP), Dünya Çapında Ağına erişmek için kullanılan temel iletişim protokolüdür ve günümüz web 
	uygulamaları tarafından kullanılır. İlk başta statik metin tabanlı kaynakları almak için geliştirilen basit bir protokoldür. 
	Daha sonra farklı şekillerde genişletilmiş ve kullanılmıştır, böylece günümüzde yaygın olan karmaşık dağıtık uygulamaları 
	destekleyebilmektedir.</p>
	
	<p>HTTP, bir istemcinin istek mesajını gönderdiği ve sunucunun bir yanıt mesajı ile karşılık verdiği mesaj tabanlı bir model kullanır. 
	Protokol temel olarak bağlantısızdır: HTTP, taşıma mekanizması olarak stateful TCP protokolünü kullanmasına rağmen, her istek ve yanıt 
	alışverişi özel bir işlem olarak kabul edilir ve farklı bir TCP bağlantısı kullanabilir.</p>
	
	<h2>HTTP İstekleri</h2>
	<p>Tüm HTTP mesajları (request ve response), her biri ayrı bir satırda olan bir veya daha fazla başlıktan oluşur, bunu zorunlu 
	boş bir satır izler ve ardından isteğe bağlı bir mesaj gövdesi gelir. Tipik bir HTTP isteği aşağıdaki gibi olabilir:</p>
	
	<dl>
		<dt><code>GET /auth/488/YourDetails.ashx?uid=129 HTTP/1.1</code></dt>
		<dt><code>Accept: application/x-ms-application, image/jpeg, application/xaml+xml,</code></dt>
		<dt><code>image/gif, image/pjpeg, application/x-ms-xbap, application/x-shockwaveflash, */*</code></dt>
		<dt><code>Referer: https://mdsec.net/auth/488/Home.ashx</code></dt>
		<dt><code>Accept-Language: en-GB</code></dt>
		<dt><code>User-Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64;</code></dt>
		<dt><code>Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR</code></dt>
		<dt><code>3.0.30729; .NET4.0C; InfoPath.3; .NET4.0E; FDM; .NET CLR 1.1.4322)</code></dt>
		<dt><code>Accept-Encoding: gzip, deflate</code></dt>
		<dt><code>Host: mdsec.net</code></dt>
		<dt><code>Connection: Keep-Alive</code></dt>
		<dt><code>Cookie: SessionId=5B70C71F3FD4968935CDB6682E545476</code></dt>
	</dl>
	
	<p>Her HTTP isteğinin ilk satırı, boşluklarla ayrılan üç öğeden oluşur:</p>
	
	<ul>
		<li>HTTP yöntemini belirten bir fiil. En yaygın kullanılan yöntem GET'tir ve web sunucusundan bir kaynağı almak için kullanılır. 
		GET isteklerinin mesaj gövdesi olmadığından, mesaj başlıklarından sonra boş satırı takip eden başka veri bulunmaz.</li>
		<li>İstenen URL genellikle istenen kaynağın adı olarak işlev görür ve istemcinin kaynağa ilettiği isteğe bağlı parametreleri içeren 
		bir sorgu dizesi içerir. Sorgu dizesi, URL'deki ? karakteri ile belirtilir. Örnekte uid adında ve değeri 129 olan tek bir parametre 
		bulunmaktadır.</li>
		<li>Kullanılan HTTP sürümü. İnternette yaygın olarak kullanılan tek HTTP sürümleri 1.0 ve 1.1'dir ve çoğu tarayıcı varsayılan olarak 1.1 
		sürümünü kullanır. Bu iki sürümün özellikleri arasında birkaç fark vardır; ancak, web uygulamalarını hedeflerken karşılaşabileceğiniz 
		tek fark, 1.1 sürümünde Host istek başlığının zorunlu olmasıdır.</li>
	</ul>
	
	<p>Örnek isteğin diğer ilginç noktaları şunlardır:</p>
	
	<ul>
		<li><b>Referer</b> isteğin kaynaklandığı URL'yi belirtmek için kullanılır (örneğin, kullanıcı o sayfadaki bir bağlantıya tıkladığı 
		için). Bu başlık, orijinal HTTP spesifikasyonunda yanlış yazılmıştır ve yanlış yazılmış hali o zamandan beri korunmaktadır.</li>
		<li><b>User-Agent</b> isteği oluşturan tarayıcı veya diğer istemci yazılımı hakkında bilgi sağlamak için kullanılır. Çoğu tarayıcı, 
		tarihsel nedenlerle Mozilla önekinde bulunan User-Agent dizisini içerir. Bu, başlangıçta dominant olan Netscape tarayıcısının kullandığı 
		User-Agent dizesiydi ve diğer tarayıcılar, uyumlu olduklarını web sitelerine beyan etmek istediler. Bilgisayar tarihinden gelen birçok 
		garip durum gibi, o kadar yerleşik hale gelmiştir ki, örnekte gösterilen Internet Explorer'ın mevcut sürümünde bile korunmaktadır.</li>
		<li><b>Host</b> erişilen tam URL'de yer alan ana bilgisayarı belirtir. Bu, aynı sunucuda birden çok web sitesi barındırıldığında gereklidir, 
		çünkü isteğin ilk satırında gönderilen URL genellikle bir ana bilgisayar adı içermez. (Sanal olarak barındırılan web siteleri hakkında 
		daha fazla bilgi için Bölüm 17'ye bakın.)</li>
		<li><b>Cookie</b> sunucunun istemciye verdiği ek parametreleri göndermek için kullanılır (bu bölümde daha detaylı olarak açıklanmıştır).</li>
	</ul>
	
	<h2>HTTP Yanıtları</h2>
	<p>Tipik bir HTTP yanıtı aşağıdaki gibidir:</p>
	
	<dl>
		<dt><code>HTTP/1.1 200 OK</code></dt>
		<dt><code>Date: Tue, 19 Apr 2011 09:23:32 GMT</code></dt>
		<dt><code>Server: Microsoft-IIS/6.0</code></dt>
		<dt><code>X-Powered-By: ASP.NET</code></dt>
		<dt><code>Set-Cookie: tracking=tI8rk7joMx44S2Uu85nSWc</code></dt>
		<dt><code>X-AspNet-Version: 2.0.50727</code></dt>
		<dt><code>Cache-Control: no-cache</code></dt>
		<dt><code>Pragma: no-cache</code></dt>
		<dt><code>Expires: Thu, 01 Jan 1970 00:00:00 GMT</code></dt>
		<dt><code>Content-Type: text/html; charset=utf-8</code></dt>
		<dt><code>Content-Length: 1067</code></dt>
		<br/>
		<dt><code>&lt;!DOCTYPE html PUBLIC “-//W3C//DTD XHTML 1.0 Transitional//EN” “http://</code></dt>
		<dt><code>www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd”&gt;&lt;html xmlns=”http://</code></dt>
		<dt><code>www.w3.org/1999/xhtml” &gt;&lt;head&gt;&lt;title&gt;Your details&lt;/title&gt;</code></dt>
		<dt><code>...</code></dt>
	</dl>
	
	<p>Her HTTP yanıtının ilk satırı, boşluklarla ayrılmış üç öğeden oluşur:</p>
	
	<ul>
		<li>Kullanılan HTTP sürümü.</li>
		<li>İsteğin sonucunu gösteren sayısal bir durum kodu. En yaygın durum kodu 200'dür; bu, isteğin başarılı olduğunu ve istenen 
		kaynağın döndürüldüğünü gösterir.</li>
		<li>Yanıtın durumunu daha ayrıntılı olarak açıklayan metinsel bir "neden ifadesi". Bu herhangi bir değere sahip olabilir ve mevcut 
		tarayıcılar tarafından herhangi bir amaçla kullanılmaz.</li>
	</ul>
	
	<p>İsteme ait diğer ilgi çekici noktalar şunlardır:</p>
	
	<ul>
		<li><b>Server</b> kullanılan web sunucusu yazılımını ve bazen yüklü modülleri ve sunucu işletim sistemini belirten bir banner içerir. 
		İçeren bilgiler doğru olabilir veya olmayabilir.</li>
		<li><b>Set-Cookie</b> tarayıcıya başka bir çerez verir; bu çerez sonraki isteklerde bu sunucuya gönderilirken Cookie başlığında gönderilir.</li>
		<li><b>Pragma</b> tarayıcıya yanıtı önbelleğe almamasını söyler. <b>Expires</b> yanıt içeriğinin geçmişte süresi dolduğunu ve bu nedenle 
		önbelleğe alınmaması gerektiğini belirtir. Bu talimatlar genellikle dinamik içerik döndürülürken kullanılır, böylece tarayıcılar sonraki 
		durumlarda bu içeriğin taze bir sürümünü alır.</li>
		<li>Neredeyse tüm HTTP yanıtları, başlıklardan sonra boşluk satırının ardından bir mesaj gövdesi içerir. <b>Content-Type</b> bu ileti 
		gövdesinin bir HTML belgesi içerdiğini belirtir.</li>
		<li><b>Content-Length</b> mesaj gövdesinin bayt cinsinden uzunluğunu belirtir.</li>
	</ul>
	
	<h2>HTTP Methodları</h2>
	<p>Web uygulamalarını hedef alırken, neredeyse sadece en yaygın kullanılan yöntemler olan <code>GET</code> ve <code>POST</code> ile uğraşacaksınız. 
	Bu yöntemler arasında bazı önemli farklılıkları bilmek önemlidir, çünkü gözden kaçırılırsa bir uygulamanın güvenliğini etkileyebilir.</p>
	
	<p>GET yöntemi, kaynakları almak için tasarlanmıştır. URL sorgu dizgisi aracılığıyla istenen kaynağa parametre göndermek için kullanılabilir. 
	Bu, kullanıcıların tekrar kullanabilecekleri bir dinamik kaynak için bir URL'yi yer imi olarak kaydetmelerine olanak tanır. Veya diğer 
	kullanıcılar sonraki durumlarda (yer imlenen bir arama sorgusu gibi) eşdeğer kaynağı alabilirler. URL'ler ekran üzerinde görüntülenir 
	ve tarayıcı geçmişinde ve web sunucusunun erişim günlüklerinde kaydedilir. Ayrıca, harici bağlantıları takip ederken <code>Referer</code> başlığında 
	diğer sitelere iletilir. Bu nedenlerle sorgu dizgisi, herhangi bir hassas bilgi iletimi için kullanılmamalıdır.</p>
	
	<p>POST yöntemi, eylemleri gerçekleştirmek için tasarlanmıştır. Bu yöntemle, istek parametreleri hem URL sorgu dizgisinde hem de 
	mesajın gövdesinde gönderilebilir. URL hala yer imi olarak kaydedilebilir, ancak mesaj gövdesinde gönderilen herhangi bir parametre 
	yer iminden hariç tutulur. Bu parametreler, URL'lerin çeşitli kayıtlarının tutulduğu yerlerden ve Referer başlığından da hariç tutulur. 
	POST yöntemi eylemler gerçekleştirmek için tasarlandığından, bir kullanıcı bu yöntemle erişilen bir sayfaya dönmek için tarayıcının 
	Geri düğmesini tıkladığında tarayıcı otomatik olarak isteği yeniden göndermez. Bunun yerine, ne yapacağı konusunda kullanıcıyı uyarır, 
	Figure 3-1'de gösterildiği gibi. Bu, kullanıcıların yanlışlıkla bir eylemi birden fazla kez gerçekleştirmesini engeller. Bu nedenle, 
	bir eylem gerçekleştirildiğinde her zaman POST istekleri kullanılmalıdır.</p>
	
	<center>
		<img src="img/3.1.png" alt="">
		<p><b>Şekil 3.1</b> Tarayıcılar, kullanıcılar tarafından yapılan POST isteklerini otomatik olarak yeniden göndermez çünkü bu, bir 
		eylemin birden fazla kez gerçekleştirilmesine neden olabilir.</p>
	</center>
	
	<p>GET ve POST yöntemlerinin yanı sıra, HTTP protokolü belirli amaçlar için oluşturulmuş birçok başka yöntemi de destekler. Aşağıda, 
	bilgi sahibi olmanız gereken diğer yöntemler yer almaktadır:</p>
	
	<ul>
		<li>HEAD, GET isteği gibi çalışır, ancak sunucu yanıtında bir ileti gövdesi döndürmemelidir. Sunucu, ilgili GET isteği için döndüreceği 
		aynı başlıkları döndürmelidir. Bu nedenle, bir kaynağın mevcut olup olmadığını kontrol etmek için bu yöntem kullanılabilir.</li>
		<li>TRACE, teşhis amaçlı tasarlanmıştır. Sunucu, yanıt gövdesinde aldığı istek ileti içeriğini tam olarak döndürmelidir. Bu, istemci ve 
		sunucu arasında isteği manipüle edebilen herhangi bir proxy sunucunun etkisini tespit etmek için kullanılabilir.</li>
		<li>OPTIONS, belirli bir kaynak için mevcut olan HTTP yöntemlerini bildirmek için sunucuya bir istekte bulunur. Sunucu genellikle, mevcut 
		yöntemleri listeleyen bir Allow başlığı içeren bir yanıt döndürür.</li>
		<li>PUT, belirtilen kaynağı istekteki gövde içeriğini kullanarak sunucuya yüklemeye çalışır. Bu yöntem etkinleştirildiyse, uygulamaya saldırmak 
		için kullanabilirsiniz, örneğin keyfi bir komut dosyasını sunucuda yükleyip çalıştırabilirsiniz.</li>
	</ul>
	
	<p>Web uygulamalarına saldırmakla doğrudan ilgili olmayan birçok başka HTTP yöntemi mevcuttur. Bununla birlikte, bir web sunucusu, 
	belirli tehlikeli yöntemler kullanılabilirse saldırıya açık hale gelebilir. Bu yöntemler hakkında daha fazla bilgi ve bunları saldırıda 
	nasıl kullanacağınıza dair örnekler için Lütfen Bölüm 18'e bakınız.</p>
	
	<h2>URL</h2>
	<p>Uniform Resource Locator (URL), bir web kaynağının benzersiz bir tanımlayıcısıdır ve bu kaynağın alınabileceği bir araçtır. 
	Çoğu URL'nin formatı aşağıdaki gibidir:</p>
	
	<code>protocol://hostname[:port]/[path/]file[?param=value]</code>
	
	<p>Bu düzende birkaç bileşen isteğe bağlıdır. Port numarası genellikle ilgili protokol tarafından kullanılan varsayılan porttan farklıysa 
	dahil edilir. Daha önce gösterilen HTTP isteğini oluşturmak için kullanılan URL aşağıdaki gibidir:</p>
	
	<code>https://mdsec.net/auth/488/YourDetails.ashx?uid=129</code>
	
	<p>Bu mutlak formun yanı sıra, URL'ler belirli bir ana bilgisayara göre göreceli olarak veya o ana bilgisayardaki belirli bir yol üzerine 
	göreceli olarak belirtilebilir. Örnekler şu şekildedir:</p>
	
	<dl>
		<dt><code>/auth/488/YourDetails.ashx?uid=129</code></dt>
		<dt><code>YourDetails.ashx?uid=129</code></dt>
	</dl>
	
	<p>Bu göreceli formlar genellikle web sayfalarında, web sitesi veya uygulama içindeki gezinmeyi tanımlamak için kullanılır.</p>
	
	<p><b>NOT: URL (Uniform Resource Locator) terimi yerine URI (Uniform Resource Identifier) terimiyle karşılaşabilirsiniz, 
	ancak URI terimi genellikle resmi spesifikasyonlarda ve ayrıntıcılıklarını sergilemek isteyen kişiler tarafından kullanılır.</b></p>
	
	<h2>REST</h2>
	<p>Temsil durum aktarımı (REST), dağıtık sistemler için bir mimari stildir. Bu stilde, istekler ve yanıtlar sistemdeki kaynakların mevcut 
	durumunu temsil eden veriler içerir. Dünya Geniş Web'i (World Wide Web) kapsayan temel teknolojiler, HTTP protokolü ve URL formatı da 
	REST mimari stiline uygundur.</p>
	
	<p>URL'lerin sorgu dizisi içinde parametreler içermesi REST kısıtlamalarına uygun olmasına rağmen, "REST tarzı URL" terimi, parametrelerini 
	URL dosya yolunda içeren bir URL'yi ifade etmek için sıkça kullanılır. Örneğin, aşağıdaki sorgu dizesi içeren URL:</p>
	
	<code>http://wahh-app.com/search?make=ford&model=pinto</code>
	
	<p>Aşağıdaki "REST tarzı" parametrelere sahip URL'ye karşılık gelir:</p>
	
	<code>http://wahh-app.com/search/ford/pinto</code>
	
	<p>Bu farklı parametre stillerini dikkate almanız gerektiğini ve bir uygulamanın içeriğini ve işlevselliğini haritalarken ve ana saldırı 
	yüzeyini belirlerken Chapter 4'de anlatıldığı anlatılmaktadır.</p>
	
</body>
</html>





































































